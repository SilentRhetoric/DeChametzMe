# flake8: noqa
# fmt: off
# mypy: ignore-errors
# This file was automatically generated by algokit-client-generator.
# DO NOT MODIFY IT BY HAND.
# requires: algokit-utils@^3.0.0

# common
import dataclasses
import typing
# core algosdk
import algosdk
from algosdk.transaction import OnComplete
from algosdk.atomic_transaction_composer import TransactionSigner
from algosdk.source_map import SourceMap
from algosdk.transaction import Transaction
from algosdk.v2client.models import SimulateTraceConfig
# utils
import algokit_utils
from algokit_utils import AlgorandClient as _AlgoKitAlgorandClient

_APP_SPEC_JSON = r"""{"arcs": [22, 28], "bareActions": {"call": [], "create": ["NoOp"]}, "methods": [{"actions": {"call": ["NoOp"], "create": []}, "args": [], "name": "Bootstrap contract", "returns": {"type": "uint64"}, "events": [], "readonly": false, "recommendations": {}}, {"actions": {"call": ["OptIn"], "create": []}, "args": [{"type": "string", "name": "chametz"}], "name": "Sell chametz", "returns": {"type": "string"}, "events": [{"args": [{"type": "address", "name": "seller"}, {"type": "uint64", "name": "time"}, {"type": "string", "name": "chametz_sold"}], "name": "Sale"}], "readonly": false, "recommendations": {}}, {"actions": {"call": ["CloseOut"], "create": []}, "args": [], "name": "Repurchase chametz", "returns": {"type": "string"}, "events": [{"args": [{"type": "address", "name": "buyer"}, {"type": "uint64", "name": "time"}, {"type": "string", "name": "chametz_repurchased"}], "name": "Repurchase"}], "readonly": false, "recommendations": {}}], "name": "DeChametz", "state": {"keys": {"box": {}, "global": {"is_jewish": {"key": "aXNfamV3aXNo", "keyType": "AVMString", "valueType": "AVMString"}, "token_asset_id": {"key": "dG9rZW5fYXNzZXRfaWQ=", "keyType": "AVMString", "valueType": "AVMUint64"}}, "local": {"chametz_sold": {"key": "Y2hhbWV0el9zb2xk", "keyType": "AVMString", "valueType": "AVMBytes", "desc": "Description of the chametz sold"}}}, "maps": {"box": {}, "global": {}, "local": {}}, "schema": {"global": {"bytes": 1, "ints": 1}, "local": {"bytes": 1, "ints": 0}}}, "structs": {}, "byteCode": {"approval": "CiADAAEEJgQOdG9rZW5fYXNzZXRfaWQEFR98dQxjaGFtZXR6X3NvbGQCACoxGEAAE4ICCWlzX2pld2lzaAJub2coImcxG0EAVIIDBGT04e8Er7m+6ATdX7dRNhoAjgMAKAAUAAIiQzEZgQISRDEYRIgA9ClMULAjQzEZIxJEMRhENhoBiACOKUxQsCNDMRkURDEYRIgAESlMULAjQzEZQP/DMRgURCNDigABMQAyCRJEIihlRBREsTIKRwOyLLIrsiqyKYAUaHR0cHM6Ly9kZWNoYW1ldHoubWWyJ4AINENIQU1FVFqyJYAKRm9yQ2hhbWV0erImI7IkIrIjgYCt4gSyIoEDshAisgGzKLQ8ZyIoZUQWiYoBATEAIihlRHAARBREMQAqi/9msSIoZUQyCkkxAIAEU2VsbIv/ULIFshSyE7IAI7ISshEkshAisgGzMQAyBxZQK1CL/1CABKz/UKNMULCL/4mKAAExACIoZURwAEQjEkSxIihlRDIKMQBKIipjRIAKUmVwdXJjaGFzZUxQsgWyFLITsgAjshKyESSyECKyAbMxACIqY0QxADIHFlArUEsBUIAEsuMHdExQsIk=", "clear": "CoEBQw=="}, "compilerInfo": {"compiler": "puya", "compilerVersion": {"major": 4, "minor": 3, "patch": 3}}, "events": [{"args": [{"type": "address", "name": "seller"}, {"type": "uint64", "name": "time"}, {"type": "string", "name": "chametz_sold"}], "name": "Sale"}, {"args": [{"type": "address", "name": "buyer"}, {"type": "uint64", "name": "time"}, {"type": "string", "name": "chametz_repurchased"}], "name": "Repurchase"}], "networks": {}, "source": {"approval": "I3ByYWdtYSB2ZXJzaW9uIDEwCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBzbWFydF9jb250cmFjdHMuZGVfY2hhbWV0ei5jb250cmFjdC5EZUNoYW1ldHouX19hbGdvcHlfZW50cnlwb2ludF93aXRoX2luaXQoKSAtPiB1aW50NjQ6Cm1haW46CiAgICBpbnRjYmxvY2sgMCAxIDQKICAgIGJ5dGVjYmxvY2sgInRva2VuX2Fzc2V0X2lkIiAweDE1MWY3Yzc1ICJjaGFtZXR6X3NvbGQiIDB4MDAyYQogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGJueiBtYWluX2FmdGVyX2lmX2Vsc2VAMgogICAgLy8gc21hcnRfY29udHJhY3RzL2RlX2NoYW1ldHovY29udHJhY3QucHk6MzEtMzIKICAgIC8vICMgVXNpbmcgbmF0aXZlIEFsZ29yYW5kIFB5dGhvbiB0eXBlcyBoZXJlIHNvIHRoZXkgbG9vayBuaWNlIG9uIExvcmEgOikKICAgIC8vIHNlbGYuaXNfamV3aXNoID0gU3RyaW5nKCJubyIpCiAgICBwdXNoYnl0ZXNzICJpc19qZXdpc2giICJubyIgLy8gImlzX2pld2lzaCIsICJubyIKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVfY2hhbWV0ei9jb250cmFjdC5weTozMwogICAgLy8gc2VsZi50b2tlbl9hc3NldF9pZCA9IFVJbnQ2NCgwKQogICAgYnl0ZWNfMCAvLyAidG9rZW5fYXNzZXRfaWQiCiAgICBpbnRjXzAgLy8gMAogICAgYXBwX2dsb2JhbF9wdXQKCm1haW5fYWZ0ZXJfaWZfZWxzZUAyOgogICAgLy8gc21hcnRfY29udHJhY3RzL2RlX2NoYW1ldHovY29udHJhY3QucHk6MjkKICAgIC8vIGNsYXNzIERlQ2hhbWV0eihBUkM0Q29udHJhY3QpOgogICAgdHhuIE51bUFwcEFyZ3MKICAgIGJ6IG1haW5fYmFyZV9yb3V0aW5nQDgKICAgIHB1c2hieXRlc3MgMHg2NGY0ZTFlZiAweGFmYjliZWU4IDB4ZGQ1ZmI3NTEgLy8gbWV0aG9kICJCb290c3RyYXAgY29udHJhY3QoKXVpbnQ2NCIsIG1ldGhvZCAiU2VsbCBjaGFtZXR6KHN0cmluZylzdHJpbmciLCBtZXRob2QgIlJlcHVyY2hhc2UgY2hhbWV0eigpc3RyaW5nIgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMAogICAgbWF0Y2ggbWFpbl9Cb290c3RyYXBfY29udHJhY3Rfcm91dGVANSBtYWluX1NlbGxfY2hhbWV0el9yb3V0ZUA2IG1haW5fUmVwdXJjaGFzZV9jaGFtZXR6X3JvdXRlQDcKCm1haW5fYWZ0ZXJfaWZfZWxzZUAxMDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZV9jaGFtZXR6L2NvbnRyYWN0LnB5OjI5CiAgICAvLyBjbGFzcyBEZUNoYW1ldHooQVJDNENvbnRyYWN0KToKICAgIGludGNfMCAvLyAwCiAgICByZXR1cm4KCm1haW5fUmVwdXJjaGFzZV9jaGFtZXR6X3JvdXRlQDc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVfY2hhbWV0ei9jb250cmFjdC5weTo5NS05NgogICAgLy8gIyBUaGlzIG1ldGhvZCBjbGVhcnMgYWNjb3VudCBMb2NhbFN0b3JhZ2UsIHNvIGl0IGlzIGJvdW5kIHRvIE9uQ29tcGxldGU9Q2xvc2VPdXQKICAgIC8vIEBhcmM0LmFiaW1ldGhvZChhbGxvd19hY3Rpb25zPVsiQ2xvc2VPdXQiXSwgbmFtZT0iUmVwdXJjaGFzZSBjaGFtZXR6IikKICAgIHR4biBPbkNvbXBsZXRpb24KICAgIHB1c2hpbnQgMiAvLyBDbG9zZU91dAogICAgPT0KICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IENsb3NlT3V0CiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIGNhbGxzdWIgcmVwdXJjaGFzZV9jaGFtZXR6CiAgICBieXRlY18xIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX1NlbGxfY2hhbWV0el9yb3V0ZUA2OgogICAgLy8gc21hcnRfY29udHJhY3RzL2RlX2NoYW1ldHovY29udHJhY3QucHk6NjMtNjQKICAgIC8vICMgVGhpcyBtZXRob2QgdXNlcyBhY2NvdW50IExvY2FsU3RvcmFnZSwgc28gaXQgaXMgYm91bmQgdG8gT25Db21wbGV0ZT1PcHRJbgogICAgLy8gQGFyYzQuYWJpbWV0aG9kKGFsbG93X2FjdGlvbnM9WyJPcHRJbiJdLCBuYW1lPSJTZWxsIGNoYW1ldHoiKQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgaW50Y18xIC8vIE9wdEluCiAgICA9PQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgT3B0SW4KICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL2RlX2NoYW1ldHovY29udHJhY3QucHk6MjkKICAgIC8vIGNsYXNzIERlQ2hhbWV0eihBUkM0Q29udHJhY3QpOgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2RlX2NoYW1ldHovY29udHJhY3QucHk6NjMtNjQKICAgIC8vICMgVGhpcyBtZXRob2QgdXNlcyBhY2NvdW50IExvY2FsU3RvcmFnZSwgc28gaXQgaXMgYm91bmQgdG8gT25Db21wbGV0ZT1PcHRJbgogICAgLy8gQGFyYzQuYWJpbWV0aG9kKGFsbG93X2FjdGlvbnM9WyJPcHRJbiJdLCBuYW1lPSJTZWxsIGNoYW1ldHoiKQogICAgY2FsbHN1YiBzZWxsX2NoYW1ldHoKICAgIGJ5dGVjXzEgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5fQm9vdHN0cmFwX2NvbnRyYWN0X3JvdXRlQDU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVfY2hhbWV0ei9jb250cmFjdC5weTo0MAogICAgLy8gQGFyYzQuYWJpbWV0aG9kKG5hbWU9IkJvb3RzdHJhcCBjb250cmFjdCIpCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIGNhbGxzdWIgYm9vdHN0cmFwCiAgICBieXRlY18xIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX2JhcmVfcm91dGluZ0A4OgogICAgLy8gc21hcnRfY29udHJhY3RzL2RlX2NoYW1ldHovY29udHJhY3QucHk6MjkKICAgIC8vIGNsYXNzIERlQ2hhbWV0eihBUkM0Q29udHJhY3QpOgogICAgdHhuIE9uQ29tcGxldGlvbgogICAgYm56IG1haW5fYWZ0ZXJfaWZfZWxzZUAxMAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgICEKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gY3JlYXRpbmcKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMuZGVfY2hhbWV0ei5jb250cmFjdC5EZUNoYW1ldHouYm9vdHN0cmFwKCkgLT4gYnl0ZXM6CmJvb3RzdHJhcDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZV9jaGFtZXR6L2NvbnRyYWN0LnB5OjQwLTQxCiAgICAvLyBAYXJjNC5hYmltZXRob2QobmFtZT0iQm9vdHN0cmFwIGNvbnRyYWN0IikKICAgIC8vIGRlZiBib290c3RyYXAoc2VsZikgLT4gYXJjNC5VSW50NjQ6ICAjIFJldHVybmluZyBhbiBBUkMtNCBVSW50NjQKICAgIHByb3RvIDAgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2RlX2NoYW1ldHovY29udHJhY3QucHk6NDIKICAgIC8vIGFzc2VydCBUeG4uc2VuZGVyID09IEdsb2JhbC5jcmVhdG9yX2FkZHJlc3MKICAgIHR4biBTZW5kZXIKICAgIGdsb2JhbCBDcmVhdG9yQWRkcmVzcwogICAgPT0KICAgIGFzc2VydAogICAgLy8gc21hcnRfY29udHJhY3RzL2RlX2NoYW1ldHovY29udHJhY3QucHk6NDMKICAgIC8vIGFzc2VydCBzZWxmLnRva2VuX2Fzc2V0X2lkID09IDAKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18wIC8vICJ0b2tlbl9hc3NldF9pZCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgc2VsZi50b2tlbl9hc3NldF9pZCBleGlzdHMKICAgICEKICAgIGFzc2VydAogICAgLy8gc21hcnRfY29udHJhY3RzL2RlX2NoYW1ldHovY29udHJhY3QucHk6NDUtNTgKICAgIC8vIGl0eG4uQXNzZXRDb25maWcoCiAgICAvLyAgICAgdG90YWw9MTAwMDAwMDAsCiAgICAvLyAgICAgZGVjaW1hbHM9MCwKICAgIC8vICAgICBkZWZhdWx0X2Zyb3plbj1UcnVlLAogICAgLy8gICAgIGFzc2V0X25hbWU9IkZvckNoYW1ldHoiLAogICAgLy8gICAgIHVuaXRfbmFtZT0iNENIQU1FVFoiLAogICAgLy8gICAgIHVybD0iaHR0cHM6Ly9kZWNoYW1ldHoubWUiLAogICAgLy8gICAgIG1hbmFnZXI9R2xvYmFsLmN1cnJlbnRfYXBwbGljYXRpb25fYWRkcmVzcywKICAgIC8vICAgICByZXNlcnZlPUdsb2JhbC5jdXJyZW50X2FwcGxpY2F0aW9uX2FkZHJlc3MsCiAgICAvLyAgICAgZnJlZXplPUdsb2JhbC5jdXJyZW50X2FwcGxpY2F0aW9uX2FkZHJlc3MsCiAgICAvLyAgICAgY2xhd2JhY2s9R2xvYmFsLmN1cnJlbnRfYXBwbGljYXRpb25fYWRkcmVzcywKICAgIC8vICAgICBmZWU9MCwKICAgIC8vICkKICAgIC8vIC5zdWJtaXQoKQogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL2RlX2NoYW1ldHovY29udHJhY3QucHk6NTIKICAgIC8vIG1hbmFnZXI9R2xvYmFsLmN1cnJlbnRfYXBwbGljYXRpb25fYWRkcmVzcywKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVfY2hhbWV0ei9jb250cmFjdC5weTo1My01NQogICAgLy8gcmVzZXJ2ZT1HbG9iYWwuY3VycmVudF9hcHBsaWNhdGlvbl9hZGRyZXNzLAogICAgLy8gZnJlZXplPUdsb2JhbC5jdXJyZW50X2FwcGxpY2F0aW9uX2FkZHJlc3MsCiAgICAvLyBjbGF3YmFjaz1HbG9iYWwuY3VycmVudF9hcHBsaWNhdGlvbl9hZGRyZXNzLAogICAgZHVwbiAzCiAgICBpdHhuX2ZpZWxkIENvbmZpZ0Fzc2V0Q2xhd2JhY2sKICAgIGl0eG5fZmllbGQgQ29uZmlnQXNzZXRGcmVlemUKICAgIGl0eG5fZmllbGQgQ29uZmlnQXNzZXRSZXNlcnZlCiAgICBpdHhuX2ZpZWxkIENvbmZpZ0Fzc2V0TWFuYWdlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2RlX2NoYW1ldHovY29udHJhY3QucHk6NTEKICAgIC8vIHVybD0iaHR0cHM6Ly9kZWNoYW1ldHoubWUiLAogICAgcHVzaGJ5dGVzICJodHRwczovL2RlY2hhbWV0ei5tZSIKICAgIGl0eG5fZmllbGQgQ29uZmlnQXNzZXRVUkwKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZV9jaGFtZXR6L2NvbnRyYWN0LnB5OjUwCiAgICAvLyB1bml0X25hbWU9IjRDSEFNRVRaIiwKICAgIHB1c2hieXRlcyAiNENIQU1FVFoiCiAgICBpdHhuX2ZpZWxkIENvbmZpZ0Fzc2V0VW5pdE5hbWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZV9jaGFtZXR6L2NvbnRyYWN0LnB5OjQ5CiAgICAvLyBhc3NldF9uYW1lPSJGb3JDaGFtZXR6IiwKICAgIHB1c2hieXRlcyAiRm9yQ2hhbWV0eiIKICAgIGl0eG5fZmllbGQgQ29uZmlnQXNzZXROYW1lCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVfY2hhbWV0ei9jb250cmFjdC5weTo0OAogICAgLy8gZGVmYXVsdF9mcm96ZW49VHJ1ZSwKICAgIGludGNfMSAvLyAxCiAgICBpdHhuX2ZpZWxkIENvbmZpZ0Fzc2V0RGVmYXVsdEZyb3plbgogICAgLy8gc21hcnRfY29udHJhY3RzL2RlX2NoYW1ldHovY29udHJhY3QucHk6NDcKICAgIC8vIGRlY2ltYWxzPTAsCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBDb25maWdBc3NldERlY2ltYWxzCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVfY2hhbWV0ei9jb250cmFjdC5weTo0NgogICAgLy8gdG90YWw9MTAwMDAwMDAsCiAgICBwdXNoaW50IDEwMDAwMDAwIC8vIDEwMDAwMDAwCiAgICBpdHhuX2ZpZWxkIENvbmZpZ0Fzc2V0VG90YWwKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZV9jaGFtZXR6L2NvbnRyYWN0LnB5OjQ1CiAgICAvLyBpdHhuLkFzc2V0Q29uZmlnKAogICAgcHVzaGludCAzIC8vIGFjZmcKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZV9jaGFtZXR6L2NvbnRyYWN0LnB5OjU2CiAgICAvLyBmZWU9MCwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL2RlX2NoYW1ldHovY29udHJhY3QucHk6NDUtNTgKICAgIC8vIGl0eG4uQXNzZXRDb25maWcoCiAgICAvLyAgICAgdG90YWw9MTAwMDAwMDAsCiAgICAvLyAgICAgZGVjaW1hbHM9MCwKICAgIC8vICAgICBkZWZhdWx0X2Zyb3plbj1UcnVlLAogICAgLy8gICAgIGFzc2V0X25hbWU9IkZvckNoYW1ldHoiLAogICAgLy8gICAgIHVuaXRfbmFtZT0iNENIQU1FVFoiLAogICAgLy8gICAgIHVybD0iaHR0cHM6Ly9kZWNoYW1ldHoubWUiLAogICAgLy8gICAgIG1hbmFnZXI9R2xvYmFsLmN1cnJlbnRfYXBwbGljYXRpb25fYWRkcmVzcywKICAgIC8vICAgICByZXNlcnZlPUdsb2JhbC5jdXJyZW50X2FwcGxpY2F0aW9uX2FkZHJlc3MsCiAgICAvLyAgICAgZnJlZXplPUdsb2JhbC5jdXJyZW50X2FwcGxpY2F0aW9uX2FkZHJlc3MsCiAgICAvLyAgICAgY2xhd2JhY2s9R2xvYmFsLmN1cnJlbnRfYXBwbGljYXRpb25fYWRkcmVzcywKICAgIC8vICAgICBmZWU9MCwKICAgIC8vICkKICAgIC8vIC5zdWJtaXQoKQogICAgaXR4bl9zdWJtaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZV9jaGFtZXR6L2NvbnRyYWN0LnB5OjQ0CiAgICAvLyBzZWxmLnRva2VuX2Fzc2V0X2lkID0gKAogICAgYnl0ZWNfMCAvLyAidG9rZW5fYXNzZXRfaWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVfY2hhbWV0ei9jb250cmFjdC5weTo0NS01OQogICAgLy8gaXR4bi5Bc3NldENvbmZpZygKICAgIC8vICAgICB0b3RhbD0xMDAwMDAwMCwKICAgIC8vICAgICBkZWNpbWFscz0wLAogICAgLy8gICAgIGRlZmF1bHRfZnJvemVuPVRydWUsCiAgICAvLyAgICAgYXNzZXRfbmFtZT0iRm9yQ2hhbWV0eiIsCiAgICAvLyAgICAgdW5pdF9uYW1lPSI0Q0hBTUVUWiIsCiAgICAvLyAgICAgdXJsPSJodHRwczovL2RlY2hhbWV0ei5tZSIsCiAgICAvLyAgICAgbWFuYWdlcj1HbG9iYWwuY3VycmVudF9hcHBsaWNhdGlvbl9hZGRyZXNzLAogICAgLy8gICAgIHJlc2VydmU9R2xvYmFsLmN1cnJlbnRfYXBwbGljYXRpb25fYWRkcmVzcywKICAgIC8vICAgICBmcmVlemU9R2xvYmFsLmN1cnJlbnRfYXBwbGljYXRpb25fYWRkcmVzcywKICAgIC8vICAgICBjbGF3YmFjaz1HbG9iYWwuY3VycmVudF9hcHBsaWNhdGlvbl9hZGRyZXNzLAogICAgLy8gICAgIGZlZT0wLAogICAgLy8gKQogICAgLy8gLnN1Ym1pdCgpCiAgICAvLyAuY3JlYXRlZF9hc3NldC5pZAogICAgaXR4biBDcmVhdGVkQXNzZXRJRAogICAgLy8gc21hcnRfY29udHJhY3RzL2RlX2NoYW1ldHovY29udHJhY3QucHk6NDQtNjAKICAgIC8vIHNlbGYudG9rZW5fYXNzZXRfaWQgPSAoCiAgICAvLyAgICAgaXR4bi5Bc3NldENvbmZpZygKICAgIC8vICAgICAgICAgdG90YWw9MTAwMDAwMDAsCiAgICAvLyAgICAgICAgIGRlY2ltYWxzPTAsCiAgICAvLyAgICAgICAgIGRlZmF1bHRfZnJvemVuPVRydWUsCiAgICAvLyAgICAgICAgIGFzc2V0X25hbWU9IkZvckNoYW1ldHoiLAogICAgLy8gICAgICAgICB1bml0X25hbWU9IjRDSEFNRVRaIiwKICAgIC8vICAgICAgICAgdXJsPSJodHRwczovL2RlY2hhbWV0ei5tZSIsCiAgICAvLyAgICAgICAgIG1hbmFnZXI9R2xvYmFsLmN1cnJlbnRfYXBwbGljYXRpb25fYWRkcmVzcywKICAgIC8vICAgICAgICAgcmVzZXJ2ZT1HbG9iYWwuY3VycmVudF9hcHBsaWNhdGlvbl9hZGRyZXNzLAogICAgLy8gICAgICAgICBmcmVlemU9R2xvYmFsLmN1cnJlbnRfYXBwbGljYXRpb25fYWRkcmVzcywKICAgIC8vICAgICAgICAgY2xhd2JhY2s9R2xvYmFsLmN1cnJlbnRfYXBwbGljYXRpb25fYWRkcmVzcywKICAgIC8vICAgICAgICAgZmVlPTAsCiAgICAvLyAgICAgKQogICAgLy8gICAgIC5zdWJtaXQoKQogICAgLy8gICAgIC5jcmVhdGVkX2Fzc2V0LmlkCiAgICAvLyApCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2RlX2NoYW1ldHovY29udHJhY3QucHk6NjEKICAgIC8vIHJldHVybiBhcmM0LlVJbnQ2NChzZWxmLnRva2VuX2Fzc2V0X2lkKQogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzAgLy8gInRva2VuX2Fzc2V0X2lkIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBzZWxmLnRva2VuX2Fzc2V0X2lkIGV4aXN0cwogICAgaXRvYgogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzLmRlX2NoYW1ldHouY29udHJhY3QuRGVDaGFtZXR6LnNlbGxfY2hhbWV0eihjaGFtZXR6OiBieXRlcykgLT4gYnl0ZXM6CnNlbGxfY2hhbWV0ejoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZV9jaGFtZXR6L2NvbnRyYWN0LnB5OjYzLTY1CiAgICAvLyAjIFRoaXMgbWV0aG9kIHVzZXMgYWNjb3VudCBMb2NhbFN0b3JhZ2UsIHNvIGl0IGlzIGJvdW5kIHRvIE9uQ29tcGxldGU9T3B0SW4KICAgIC8vIEBhcmM0LmFiaW1ldGhvZChhbGxvd19hY3Rpb25zPVsiT3B0SW4iXSwgbmFtZT0iU2VsbCBjaGFtZXR6IikKICAgIC8vIGRlZiBzZWxsX2NoYW1ldHooc2VsZiwgY2hhbWV0ejogYXJjNC5TdHJpbmcpIC0+IGFyYzQuU3RyaW5nOgogICAgcHJvdG8gMSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVfY2hhbWV0ei9jb250cmFjdC5weTo2OAogICAgLy8gQXNzZXQoc2VsZi50b2tlbl9hc3NldF9pZCkuYmFsYW5jZShUeG4uc2VuZGVyKSA9PSAwCiAgICB0eG4gU2VuZGVyCiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWNfMCAvLyAidG9rZW5fYXNzZXRfaWQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIHNlbGYudG9rZW5fYXNzZXRfaWQgZXhpc3RzCiAgICBhc3NldF9ob2xkaW5nX2dldCBBc3NldEJhbGFuY2UKICAgIGFzc2VydCAvLyBhY2NvdW50IG9wdGVkIGludG8gYXNzZXQKICAgICEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZV9jaGFtZXR6L2NvbnRyYWN0LnB5OjY2LTY5CiAgICAvLyAjIFRoZSBzZW5kZXIgbXVzdCBub3QgYmUgaG9sZGluZyBhIEZvckNoYW1ldHogdG9rZW4gYWxyZWFkeQogICAgLy8gYXNzZXJ0ICgKICAgIC8vICAgICBBc3NldChzZWxmLnRva2VuX2Fzc2V0X2lkKS5iYWxhbmNlKFR4bi5zZW5kZXIpID09IDAKICAgIC8vICksICJNdXN0IG5vdCBiZSBob2xkaW5nIGEgRm9yQ2hhbWV0eiB0b2tlbiBhbHJlYWR5IHRvIHNlbGwgY2hhbWV0eiIKICAgIGFzc2VydCAvLyBNdXN0IG5vdCBiZSBob2xkaW5nIGEgRm9yQ2hhbWV0eiB0b2tlbiBhbHJlYWR5IHRvIHNlbGwgY2hhbWV0egogICAgLy8gc21hcnRfY29udHJhY3RzL2RlX2NoYW1ldHovY29udHJhY3QucHk6NzEtNzIKICAgIC8vICMgVXBkYXRlIHRoZSBzZW5kZXIncyBsb2NhbCBzdGF0ZSB3aXRoIHRoZSBjaGFtZXR6J3MgZGVzY3JpcHRpb24KICAgIC8vIHNlbGYuY2hhbWV0el9zb2xkW1R4bi5zZW5kZXJdID0gY2hhbWV0ei5ieXRlcwogICAgdHhuIFNlbmRlcgogICAgYnl0ZWNfMiAvLyAiY2hhbWV0el9zb2xkIgogICAgZnJhbWVfZGlnIC0xCiAgICBhcHBfbG9jYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVfY2hhbWV0ei9jb250cmFjdC5weTo3NC04MwogICAgLy8gIyBUcmFuc2ZlciB0aGUgdG9rZW4gdG8gdGhlIHNlbmRlciB1c2luZyBjbGF3YmFjayAoc2VlIGFzc2V0X3NlbmRlcikKICAgIC8vIGl0eG4uQXNzZXRUcmFuc2ZlcigKICAgIC8vICAgICB4ZmVyX2Fzc2V0PXNlbGYudG9rZW5fYXNzZXRfaWQsCiAgICAvLyAgICAgYXNzZXRfYW1vdW50PTEsCiAgICAvLyAgICAgc2VuZGVyPUdsb2JhbC5jdXJyZW50X2FwcGxpY2F0aW9uX2FkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRfc2VuZGVyPUdsb2JhbC5jdXJyZW50X2FwcGxpY2F0aW9uX2FkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRfcmVjZWl2ZXI9VHhuLnNlbmRlciwKICAgIC8vICAgICBub3RlPWIiU2VsbCIgKyBjaGFtZXR6LmJ5dGVzLAogICAgLy8gICAgIGZlZT0wLAogICAgLy8gKS5zdWJtaXQoKQogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL2RlX2NoYW1ldHovY29udHJhY3QucHk6NzYKICAgIC8vIHhmZXJfYXNzZXQ9c2VsZi50b2tlbl9hc3NldF9pZCwKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18wIC8vICJ0b2tlbl9hc3NldF9pZCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgc2VsZi50b2tlbl9hc3NldF9pZCBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZV9jaGFtZXR6L2NvbnRyYWN0LnB5Ojc4CiAgICAvLyBzZW5kZXI9R2xvYmFsLmN1cnJlbnRfYXBwbGljYXRpb25fYWRkcmVzcywKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVfY2hhbWV0ei9jb250cmFjdC5weTo3OQogICAgLy8gYXNzZXRfc2VuZGVyPUdsb2JhbC5jdXJyZW50X2FwcGxpY2F0aW9uX2FkZHJlc3MsCiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZV9jaGFtZXR6L2NvbnRyYWN0LnB5OjgwCiAgICAvLyBhc3NldF9yZWNlaXZlcj1UeG4uc2VuZGVyLAogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2RlX2NoYW1ldHovY29udHJhY3QucHk6ODEKICAgIC8vIG5vdGU9YiJTZWxsIiArIGNoYW1ldHouYnl0ZXMsCiAgICBwdXNoYnl0ZXMgMHg1MzY1NmM2YwogICAgZnJhbWVfZGlnIC0xCiAgICBjb25jYXQKICAgIGl0eG5fZmllbGQgTm90ZQogICAgaXR4bl9maWVsZCBBc3NldFJlY2VpdmVyCiAgICBpdHhuX2ZpZWxkIEFzc2V0U2VuZGVyCiAgICBpdHhuX2ZpZWxkIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2RlX2NoYW1ldHovY29udHJhY3QucHk6NzcKICAgIC8vIGFzc2V0X2Ftb3VudD0xLAogICAgaW50Y18xIC8vIDEKICAgIGl0eG5fZmllbGQgQXNzZXRBbW91bnQKICAgIGl0eG5fZmllbGQgWGZlckFzc2V0CiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVfY2hhbWV0ei9jb250cmFjdC5weTo3NC03NQogICAgLy8gIyBUcmFuc2ZlciB0aGUgdG9rZW4gdG8gdGhlIHNlbmRlciB1c2luZyBjbGF3YmFjayAoc2VlIGFzc2V0X3NlbmRlcikKICAgIC8vIGl0eG4uQXNzZXRUcmFuc2ZlcigKICAgIGludGNfMiAvLyBheGZlcgogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL2RlX2NoYW1ldHovY29udHJhY3QucHk6ODIKICAgIC8vIGZlZT0wLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVfY2hhbWV0ei9jb250cmFjdC5weTo3NC04MwogICAgLy8gIyBUcmFuc2ZlciB0aGUgdG9rZW4gdG8gdGhlIHNlbmRlciB1c2luZyBjbGF3YmFjayAoc2VlIGFzc2V0X3NlbmRlcikKICAgIC8vIGl0eG4uQXNzZXRUcmFuc2ZlcigKICAgIC8vICAgICB4ZmVyX2Fzc2V0PXNlbGYudG9rZW5fYXNzZXRfaWQsCiAgICAvLyAgICAgYXNzZXRfYW1vdW50PTEsCiAgICAvLyAgICAgc2VuZGVyPUdsb2JhbC5jdXJyZW50X2FwcGxpY2F0aW9uX2FkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRfc2VuZGVyPUdsb2JhbC5jdXJyZW50X2FwcGxpY2F0aW9uX2FkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRfcmVjZWl2ZXI9VHhuLnNlbmRlciwKICAgIC8vICAgICBub3RlPWIiU2VsbCIgKyBjaGFtZXR6LmJ5dGVzLAogICAgLy8gICAgIGZlZT0wLAogICAgLy8gKS5zdWJtaXQoKQogICAgaXR4bl9zdWJtaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZV9jaGFtZXR6L2NvbnRyYWN0LnB5Ojg4CiAgICAvLyBzZWxsZXI9YXJjNC5BZGRyZXNzKFR4bi5zZW5kZXIpLAogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2RlX2NoYW1ldHovY29udHJhY3QucHk6ODkKICAgIC8vIHRpbWU9YXJjNC5VSW50NjQoR2xvYmFsLmxhdGVzdF90aW1lc3RhbXApLAogICAgZ2xvYmFsIExhdGVzdFRpbWVzdGFtcAogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2RlX2NoYW1ldHovY29udHJhY3QucHk6ODctOTEKICAgIC8vIFNhbGUoCiAgICAvLyAgICAgc2VsbGVyPWFyYzQuQWRkcmVzcyhUeG4uc2VuZGVyKSwKICAgIC8vICAgICB0aW1lPWFyYzQuVUludDY0KEdsb2JhbC5sYXRlc3RfdGltZXN0YW1wKSwKICAgIC8vICAgICBjaGFtZXR6X3NvbGQ9YXJjNC5TdHJpbmcuZnJvbV9ieXRlcyhjaGFtZXR6LmJ5dGVzKSwKICAgIC8vICkKICAgIGNvbmNhdAogICAgYnl0ZWNfMyAvLyAweDAwMmEKICAgIGNvbmNhdAogICAgZnJhbWVfZGlnIC0xCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZV9jaGFtZXR6L2NvbnRyYWN0LnB5Ojg1LTkyCiAgICAvLyAjIEVtaXR0aW5nIGFuIEFSQy0yOCBldmVudCB3aXRoIGFuIEFSQy00IFN0cnVjdCBvZiBBUkMtNCB0eXBlZCBmaWVsZHMKICAgIC8vIGFyYzQuZW1pdCgKICAgIC8vICAgICBTYWxlKAogICAgLy8gICAgICAgICBzZWxsZXI9YXJjNC5BZGRyZXNzKFR4bi5zZW5kZXIpLAogICAgLy8gICAgICAgICB0aW1lPWFyYzQuVUludDY0KEdsb2JhbC5sYXRlc3RfdGltZXN0YW1wKSwKICAgIC8vICAgICAgICAgY2hhbWV0el9zb2xkPWFyYzQuU3RyaW5nLmZyb21fYnl0ZXMoY2hhbWV0ei5ieXRlcyksCiAgICAvLyAgICAgKQogICAgLy8gKQogICAgcHVzaGJ5dGVzIDB4YWNmZjUwYTMgLy8gbWV0aG9kICJTYWxlKGFkZHJlc3MsdWludDY0LHN0cmluZykiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgLy8gc21hcnRfY29udHJhY3RzL2RlX2NoYW1ldHovY29udHJhY3QucHk6OTMKICAgIC8vIHJldHVybiBhcmM0LlN0cmluZy5mcm9tX2J5dGVzKGNoYW1ldHouYnl0ZXMpCiAgICBmcmFtZV9kaWcgLTEKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5kZV9jaGFtZXR6LmNvbnRyYWN0LkRlQ2hhbWV0ei5yZXB1cmNoYXNlX2NoYW1ldHooKSAtPiBieXRlczoKcmVwdXJjaGFzZV9jaGFtZXR6OgogICAgLy8gc21hcnRfY29udHJhY3RzL2RlX2NoYW1ldHovY29udHJhY3QucHk6OTUtOTcKICAgIC8vICMgVGhpcyBtZXRob2QgY2xlYXJzIGFjY291bnQgTG9jYWxTdG9yYWdlLCBzbyBpdCBpcyBib3VuZCB0byBPbkNvbXBsZXRlPUNsb3NlT3V0CiAgICAvLyBAYXJjNC5hYmltZXRob2QoYWxsb3dfYWN0aW9ucz1bIkNsb3NlT3V0Il0sIG5hbWU9IlJlcHVyY2hhc2UgY2hhbWV0eiIpCiAgICAvLyBkZWYgcmVwdXJjaGFzZV9jaGFtZXR6KHNlbGYpIC0+IGFyYzQuU3RyaW5nOgogICAgcHJvdG8gMCAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVfY2hhbWV0ei9jb250cmFjdC5weToxMDAKICAgIC8vIEFzc2V0KHNlbGYudG9rZW5fYXNzZXRfaWQpLmJhbGFuY2UoVHhuLnNlbmRlcikgPT0gMQogICAgdHhuIFNlbmRlcgogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzAgLy8gInRva2VuX2Fzc2V0X2lkIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBzZWxmLnRva2VuX2Fzc2V0X2lkIGV4aXN0cwogICAgYXNzZXRfaG9sZGluZ19nZXQgQXNzZXRCYWxhbmNlCiAgICBhc3NlcnQgLy8gYWNjb3VudCBvcHRlZCBpbnRvIGFzc2V0CiAgICBpbnRjXzEgLy8gMQogICAgPT0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZV9jaGFtZXR6L2NvbnRyYWN0LnB5Ojk4LTEwMQogICAgLy8gIyBJbml0aWFsIGNoZWNrcyBvbiB0aGUgc2VuZGVyCiAgICAvLyBhc3NlcnQgKAogICAgLy8gICAgIEFzc2V0KHNlbGYudG9rZW5fYXNzZXRfaWQpLmJhbGFuY2UoVHhuLnNlbmRlcikgPT0gMQogICAgLy8gKSwgIk11c3QgaG9sZCBhIEZvckNoYW1ldHogdG9rZW4gdG8gcmVwdXJjaGFzZSBjaGFtZXR6IgogICAgYXNzZXJ0IC8vIE11c3QgaG9sZCBhIEZvckNoYW1ldHogdG9rZW4gdG8gcmVwdXJjaGFzZSBjaGFtZXR6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVfY2hhbWV0ei9jb250cmFjdC5weToxMDMtMTEyCiAgICAvLyAjIFRyYW5zZmVyIHRoZSB0b2tlbiBiYWNrIHRvIHRoZSBhcHAgdXNpbmcgY2xhd2JhY2sgKHNlZSBhc3NldF9zZW5kZXIpCiAgICAvLyBpdHhuLkFzc2V0VHJhbnNmZXIoCiAgICAvLyAgICAgeGZlcl9hc3NldD1zZWxmLnRva2VuX2Fzc2V0X2lkLAogICAgLy8gICAgIGFzc2V0X2Ftb3VudD0xLAogICAgLy8gICAgIHNlbmRlcj1HbG9iYWwuY3VycmVudF9hcHBsaWNhdGlvbl9hZGRyZXNzLAogICAgLy8gICAgIGFzc2V0X3NlbmRlcj1UeG4uc2VuZGVyLAogICAgLy8gICAgIGFzc2V0X3JlY2VpdmVyPUdsb2JhbC5jdXJyZW50X2FwcGxpY2F0aW9uX2FkZHJlc3MsCiAgICAvLyAgICAgbm90ZT1iIlJlcHVyY2hhc2UiICsgc2VsZi5jaGFtZXR6X3NvbGRbVHhuLnNlbmRlcl0sCiAgICAvLyAgICAgZmVlPTAsCiAgICAvLyApLnN1Ym1pdCgpCiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVfY2hhbWV0ei9jb250cmFjdC5weToxMDUKICAgIC8vIHhmZXJfYXNzZXQ9c2VsZi50b2tlbl9hc3NldF9pZCwKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18wIC8vICJ0b2tlbl9hc3NldF9pZCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgc2VsZi50b2tlbl9hc3NldF9pZCBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZV9jaGFtZXR6L2NvbnRyYWN0LnB5OjEwNwogICAgLy8gc2VuZGVyPUdsb2JhbC5jdXJyZW50X2FwcGxpY2F0aW9uX2FkZHJlc3MsCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgLy8gc21hcnRfY29udHJhY3RzL2RlX2NoYW1ldHovY29udHJhY3QucHk6MTA4CiAgICAvLyBhc3NldF9zZW5kZXI9VHhuLnNlbmRlciwKICAgIHR4biBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZV9jaGFtZXR6L2NvbnRyYWN0LnB5OjEwOS0xMTAKICAgIC8vIGFzc2V0X3JlY2VpdmVyPUdsb2JhbC5jdXJyZW50X2FwcGxpY2F0aW9uX2FkZHJlc3MsCiAgICAvLyBub3RlPWIiUmVwdXJjaGFzZSIgKyBzZWxmLmNoYW1ldHpfc29sZFtUeG4uc2VuZGVyXSwKICAgIGR1cDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZV9jaGFtZXR6L2NvbnRyYWN0LnB5OjExMAogICAgLy8gbm90ZT1iIlJlcHVyY2hhc2UiICsgc2VsZi5jaGFtZXR6X3NvbGRbVHhuLnNlbmRlcl0sCiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWNfMiAvLyAiY2hhbWV0el9zb2xkIgogICAgYXBwX2xvY2FsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIHNlbGYuY2hhbWV0el9zb2xkIGV4aXN0cyBmb3IgYWNjb3VudAogICAgcHVzaGJ5dGVzIDB4NTI2NTcwNzU3MjYzNjg2MTczNjUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgaXR4bl9maWVsZCBOb3RlCiAgICBpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKICAgIGl0eG5fZmllbGQgQXNzZXRTZW5kZXIKICAgIGl0eG5fZmllbGQgU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVfY2hhbWV0ei9jb250cmFjdC5weToxMDYKICAgIC8vIGFzc2V0X2Ftb3VudD0xLAogICAgaW50Y18xIC8vIDEKICAgIGl0eG5fZmllbGQgQXNzZXRBbW91bnQKICAgIGl0eG5fZmllbGQgWGZlckFzc2V0CiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVfY2hhbWV0ei9jb250cmFjdC5weToxMDMtMTA0CiAgICAvLyAjIFRyYW5zZmVyIHRoZSB0b2tlbiBiYWNrIHRvIHRoZSBhcHAgdXNpbmcgY2xhd2JhY2sgKHNlZSBhc3NldF9zZW5kZXIpCiAgICAvLyBpdHhuLkFzc2V0VHJhbnNmZXIoCiAgICBpbnRjXzIgLy8gYXhmZXIKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZV9jaGFtZXR6L2NvbnRyYWN0LnB5OjExMQogICAgLy8gZmVlPTAsCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZV9jaGFtZXR6L2NvbnRyYWN0LnB5OjEwMy0xMTIKICAgIC8vICMgVHJhbnNmZXIgdGhlIHRva2VuIGJhY2sgdG8gdGhlIGFwcCB1c2luZyBjbGF3YmFjayAoc2VlIGFzc2V0X3NlbmRlcikKICAgIC8vIGl0eG4uQXNzZXRUcmFuc2ZlcigKICAgIC8vICAgICB4ZmVyX2Fzc2V0PXNlbGYudG9rZW5fYXNzZXRfaWQsCiAgICAvLyAgICAgYXNzZXRfYW1vdW50PTEsCiAgICAvLyAgICAgc2VuZGVyPUdsb2JhbC5jdXJyZW50X2FwcGxpY2F0aW9uX2FkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRfc2VuZGVyPVR4bi5zZW5kZXIsCiAgICAvLyAgICAgYXNzZXRfcmVjZWl2ZXI9R2xvYmFsLmN1cnJlbnRfYXBwbGljYXRpb25fYWRkcmVzcywKICAgIC8vICAgICBub3RlPWIiUmVwdXJjaGFzZSIgKyBzZWxmLmNoYW1ldHpfc29sZFtUeG4uc2VuZGVyXSwKICAgIC8vICAgICBmZWU9MCwKICAgIC8vICkuc3VibWl0KCkKICAgIGl0eG5fc3VibWl0CiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVfY2hhbWV0ei9jb250cmFjdC5weToxMTQKICAgIC8vIGNoYW1ldHpfcmVwdXJjaGFzZWQgPSBzZWxmLmNoYW1ldHpfc29sZFtUeG4uc2VuZGVyXQogICAgdHhuIFNlbmRlcgogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzIgLy8gImNoYW1ldHpfc29sZCIKICAgIGFwcF9sb2NhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBzZWxmLmNoYW1ldHpfc29sZCBleGlzdHMgZm9yIGFjY291bnQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZV9jaGFtZXR6L2NvbnRyYWN0LnB5OjExOQogICAgLy8gYnV5ZXI9YXJjNC5BZGRyZXNzKFR4bi5zZW5kZXIpLAogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2RlX2NoYW1ldHovY29udHJhY3QucHk6MTIwCiAgICAvLyB0aW1lPWFyYzQuVUludDY0KEdsb2JhbC5sYXRlc3RfdGltZXN0YW1wKSwKICAgIGdsb2JhbCBMYXRlc3RUaW1lc3RhbXAKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZV9jaGFtZXR6L2NvbnRyYWN0LnB5OjExOC0xMjIKICAgIC8vIFJlcHVyY2hhc2UoCiAgICAvLyAgICAgYnV5ZXI9YXJjNC5BZGRyZXNzKFR4bi5zZW5kZXIpLAogICAgLy8gICAgIHRpbWU9YXJjNC5VSW50NjQoR2xvYmFsLmxhdGVzdF90aW1lc3RhbXApLAogICAgLy8gICAgIGNoYW1ldHpfcmVwdXJjaGFzZWQ9YXJjNC5TdHJpbmcuZnJvbV9ieXRlcyhjaGFtZXR6X3JlcHVyY2hhc2VkKSwKICAgIC8vICkKICAgIGNvbmNhdAogICAgYnl0ZWNfMyAvLyAweDAwMmEKICAgIGNvbmNhdAogICAgZGlnIDEKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2RlX2NoYW1ldHovY29udHJhY3QucHk6MTE2LTEyMwogICAgLy8gIyBFbWl0dGluZyBhbiBBUkMtMjggZXZlbnQgd2l0aCBhbiBBUkMtNCBTdHJ1Y3Qgb2YgQVJDLTQgdHlwZWQgZmllbGRzCiAgICAvLyBhcmM0LmVtaXQoCiAgICAvLyAgICAgUmVwdXJjaGFzZSgKICAgIC8vICAgICAgICAgYnV5ZXI9YXJjNC5BZGRyZXNzKFR4bi5zZW5kZXIpLAogICAgLy8gICAgICAgICB0aW1lPWFyYzQuVUludDY0KEdsb2JhbC5sYXRlc3RfdGltZXN0YW1wKSwKICAgIC8vICAgICAgICAgY2hhbWV0el9yZXB1cmNoYXNlZD1hcmM0LlN0cmluZy5mcm9tX2J5dGVzKGNoYW1ldHpfcmVwdXJjaGFzZWQpLAogICAgLy8gICAgICkKICAgIC8vICkKICAgIHB1c2hieXRlcyAweGIyZTMwNzc0IC8vIG1ldGhvZCAiUmVwdXJjaGFzZShhZGRyZXNzLHVpbnQ2NCxzdHJpbmcpIgogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZV9jaGFtZXR6L2NvbnRyYWN0LnB5OjEyNAogICAgLy8gcmV0dXJuIGFyYzQuU3RyaW5nLmZyb21fYnl0ZXMoY2hhbWV0el9yZXB1cmNoYXNlZCkKICAgIHJldHN1Ygo=", "clear": "I3ByYWdtYSB2ZXJzaW9uIDEwCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBhbGdvcHkuYXJjNC5BUkM0Q29udHJhY3QuY2xlYXJfc3RhdGVfcHJvZ3JhbSgpIC0+IHVpbnQ2NDoKbWFpbjoKICAgIHB1c2hpbnQgMSAvLyAxCiAgICByZXR1cm4K"}, "sourceInfo": {"approval": {"pcOffsetMethod": "none", "sourceInfo": [{"pc": [373], "errorMessage": "Must hold a ForChametz token to repurchase chametz"}, {"pc": [290], "errorMessage": "Must not be holding a ForChametz token already to sell chametz"}, {"pc": [108], "errorMessage": "OnCompletion is not CloseOut"}, {"pc": [144], "errorMessage": "OnCompletion is not NoOp"}, {"pc": [125], "errorMessage": "OnCompletion is not OptIn"}, {"pc": [288, 370], "errorMessage": "account opted into asset"}, {"pc": [165], "errorMessage": "can only call when creating"}, {"pc": [111, 128, 147], "errorMessage": "can only call when not creating"}, {"pc": [387, 427], "errorMessage": "check self.chametz_sold exists for account"}, {"pc": [180, 274, 285, 301, 367, 378], "errorMessage": "check self.token_asset_id exists"}]}, "clear": {"pcOffsetMethod": "none", "sourceInfo": []}}, "templateVariables": {}}"""
APP_SPEC = algokit_utils.Arc56Contract.from_json(_APP_SPEC_JSON)

def _parse_abi_args(args: object | None = None) -> list[object] | None:
    """Helper to parse ABI args into the format expected by underlying client"""
    if args is None:
        return None

    def convert_dataclass(value: object) -> object:
        if dataclasses.is_dataclass(value):
            return tuple(convert_dataclass(getattr(value, field.name)) for field in dataclasses.fields(value))
        elif isinstance(value, (list, tuple)):
            return type(value)(convert_dataclass(item) for item in value)
        return value

    match args:
        case tuple():
            method_args = list(args)
        case _ if dataclasses.is_dataclass(args):
            method_args = [getattr(args, field.name) for field in dataclasses.fields(args)]
        case _:
            raise ValueError("Invalid 'args' type. Expected 'tuple' or 'TypedDict' for respective typed arguments.")

    return [
        convert_dataclass(arg) if not isinstance(arg, algokit_utils.AppMethodCallTransactionArgument) else arg
        for arg in method_args
    ] if method_args else None

def _init_dataclass(cls: type, data: dict) -> object:
    """
    Recursively instantiate a dataclass of type `cls` from `data`.

    For each field on the dataclass, if the field type is also a dataclass
    and the corresponding data is a dict, instantiate that field recursively.
    """
    field_values = {}
    for field in dataclasses.fields(cls):
        field_value = data.get(field.name)
        # Check if the field expects another dataclass and the value is a dict.
        if dataclasses.is_dataclass(field.type) and isinstance(field_value, dict):
            field_values[field.name] = _init_dataclass(typing.cast(type, field.type), field_value)
        else:
            field_values[field.name] = field_value
    return cls(**field_values)

@dataclasses.dataclass(frozen=True, kw_only=True)
class SellChametzArgs:
    """Dataclass for sell_chametz arguments"""
    chametz: str

    @property
    def abi_method_signature(self) -> str:
        return "Sell chametz(string)string"


class _DeChametzOptIn:
    def __init__(self, app_client: algokit_utils.AppClient):
        self.app_client = app_client

    def sell_chametz(
        self,
        args: tuple[str] | SellChametzArgs,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> algokit_utils.AppCallMethodCallParams:
        method_args = _parse_abi_args(args)
        params = params or algokit_utils.CommonAppCallParams()
        return self.app_client.params.opt_in(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "Sell chametz(string)string",
            "args": method_args,
        }))


class _DeChametzCloseOut:
    def __init__(self, app_client: algokit_utils.AppClient):
        self.app_client = app_client

    def repurchase_chametz(
        self,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> algokit_utils.AppCallMethodCallParams:
    
        params = params or algokit_utils.CommonAppCallParams()
        return self.app_client.params.close_out(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "Repurchase chametz()string",
        }))


class DeChametzParams:
    def __init__(self, app_client: algokit_utils.AppClient):
        self.app_client = app_client

    @property
    def opt_in(self) -> "_DeChametzOptIn":
        return _DeChametzOptIn(self.app_client)

    @property
    def close_out(self) -> "_DeChametzCloseOut":
        return _DeChametzCloseOut(self.app_client)

    def bootstrap_contract(
        self,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> algokit_utils.AppCallMethodCallParams:
    
        params = params or algokit_utils.CommonAppCallParams()
        return self.app_client.params.call(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "Bootstrap contract()uint64",
        }))

    def clear_state(
        self,
        params: algokit_utils.AppClientBareCallParams | None = None,
        
    ) -> algokit_utils.AppCallParams:
        return self.app_client.params.bare.clear_state(
            params,
            
        )


class _DeChametzOptInTransaction:
    def __init__(self, app_client: algokit_utils.AppClient):
        self.app_client = app_client

    def sell_chametz(
        self,
        args: tuple[str] | SellChametzArgs,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> algokit_utils.BuiltTransactions:
        method_args = _parse_abi_args(args)
        params = params or algokit_utils.CommonAppCallParams()
        return self.app_client.create_transaction.opt_in(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "Sell chametz(string)string",
            "args": method_args,
        }))


class _DeChametzCloseOutTransaction:
    def __init__(self, app_client: algokit_utils.AppClient):
        self.app_client = app_client

    def repurchase_chametz(
        self,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> algokit_utils.BuiltTransactions:
    
        params = params or algokit_utils.CommonAppCallParams()
        return self.app_client.create_transaction.close_out(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "Repurchase chametz()string",
        }))


class DeChametzCreateTransactionParams:
    def __init__(self, app_client: algokit_utils.AppClient):
        self.app_client = app_client

    @property
    def opt_in(self) -> "_DeChametzOptInTransaction":
        return _DeChametzOptInTransaction(self.app_client)

    @property
    def close_out(self) -> "_DeChametzCloseOutTransaction":
        return _DeChametzCloseOutTransaction(self.app_client)

    def bootstrap_contract(
        self,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> algokit_utils.BuiltTransactions:
    
        params = params or algokit_utils.CommonAppCallParams()
        return self.app_client.create_transaction.call(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "Bootstrap contract()uint64",
        }))

    def clear_state(
        self,
        params: algokit_utils.AppClientBareCallParams | None = None,
        
    ) -> Transaction:
        return self.app_client.create_transaction.bare.clear_state(
            params,
            
        )


class _DeChametzOptInSend:
    def __init__(self, app_client: algokit_utils.AppClient):
        self.app_client = app_client

    def sell_chametz(
        self,
        args: tuple[str] | SellChametzArgs,
        params: algokit_utils.CommonAppCallParams | None = None,
        send_params: algokit_utils.SendParams | None = None
    ) -> algokit_utils.SendAppTransactionResult[str]:
        method_args = _parse_abi_args(args)
        params = params or algokit_utils.CommonAppCallParams()
        response = self.app_client.send.opt_in(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "Sell chametz(string)string",
            "args": method_args,
        }), send_params=send_params)
        parsed_response = response
        return typing.cast(algokit_utils.SendAppTransactionResult[str], parsed_response)


class _DeChametzCloseOutSend:
    def __init__(self, app_client: algokit_utils.AppClient):
        self.app_client = app_client

    def repurchase_chametz(
        self,
        params: algokit_utils.CommonAppCallParams | None = None,
        send_params: algokit_utils.SendParams | None = None
    ) -> algokit_utils.SendAppTransactionResult[str]:
    
        params = params or algokit_utils.CommonAppCallParams()
        response = self.app_client.send.close_out(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "Repurchase chametz()string",
        }), send_params=send_params)
        parsed_response = response
        return typing.cast(algokit_utils.SendAppTransactionResult[str], parsed_response)


class DeChametzSend:
    def __init__(self, app_client: algokit_utils.AppClient):
        self.app_client = app_client

    @property
    def opt_in(self) -> "_DeChametzOptInSend":
        return _DeChametzOptInSend(self.app_client)

    @property
    def close_out(self) -> "_DeChametzCloseOutSend":
        return _DeChametzCloseOutSend(self.app_client)

    def bootstrap_contract(
        self,
        params: algokit_utils.CommonAppCallParams | None = None,
        send_params: algokit_utils.SendParams | None = None
    ) -> algokit_utils.SendAppTransactionResult[int]:
    
        params = params or algokit_utils.CommonAppCallParams()
        response = self.app_client.send.call(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "Bootstrap contract()uint64",
        }), send_params=send_params)
        parsed_response = response
        return typing.cast(algokit_utils.SendAppTransactionResult[int], parsed_response)

    def clear_state(
        self,
        params: algokit_utils.AppClientBareCallParams | None = None,
        send_params: algokit_utils.SendParams | None = None
    ) -> algokit_utils.SendAppTransactionResult[algokit_utils.ABIReturn]:
        return self.app_client.send.bare.clear_state(
            params,
            send_params=send_params,
        )


class GlobalStateValue(typing.TypedDict):
    """Shape of global_state state key values"""
    is_jewish: str
    token_asset_id: int

class LocalStateValue(typing.TypedDict):
    """Shape of local_state state key values"""
    chametz_sold: bytes

class DeChametzState:
    """Methods to access state for the current DeChametz app"""

    def __init__(self, app_client: algokit_utils.AppClient):
        self.app_client = app_client

    @property
    def global_state(
        self
    ) -> "_GlobalState":
            """Methods to access global_state for the current app"""
            return _GlobalState(self.app_client)

    def local_state(
        self, address: str
    ) -> "_LocalState":
            """Methods to access local_state for the current app"""
            return _LocalState(self.app_client, address)

class _GlobalState:
    def __init__(self, app_client: algokit_utils.AppClient):
        self.app_client = app_client
        
        # Pre-generated mapping of value types to their struct classes
        self._struct_classes: dict[str, typing.Type[typing.Any]] = {}

    def get_all(self) -> GlobalStateValue:
        """Get all current keyed values from global_state state"""
        result = self.app_client.state.global_state.get_all()
        if not result:
            return typing.cast(GlobalStateValue, {})

        converted = {}
        for key, value in result.items():
            key_info = self.app_client.app_spec.state.keys.global_state.get(key)
            struct_class = self._struct_classes.get(key_info.value_type) if key_info else None
            converted[key] = (
                _init_dataclass(struct_class, value) if struct_class and isinstance(value, dict)
                else value
            )
        return typing.cast(GlobalStateValue, converted)

    @property
    def is_jewish(self) -> str:
        """Get the current value of the is_jewish key in global_state state"""
        value = self.app_client.state.global_state.get_value("is_jewish")
        if isinstance(value, dict) and "AVMString" in self._struct_classes:
            return _init_dataclass(self._struct_classes["AVMString"], value)  # type: ignore
        return typing.cast(str, value)

    @property
    def token_asset_id(self) -> int:
        """Get the current value of the token_asset_id key in global_state state"""
        value = self.app_client.state.global_state.get_value("token_asset_id")
        if isinstance(value, dict) and "AVMUint64" in self._struct_classes:
            return _init_dataclass(self._struct_classes["AVMUint64"], value)  # type: ignore
        return typing.cast(int, value)

class _LocalState:
    def __init__(self, app_client: algokit_utils.AppClient, address: str):
        self.app_client = app_client
        self.address = address
        # Pre-generated mapping of value types to their struct classes
        self._struct_classes: dict[str, typing.Type[typing.Any]] = {}

    def get_all(self) -> LocalStateValue:
        """Get all current keyed values from local_state state"""
        result = self.app_client.state.local_state(self.address).get_all()
        if not result:
            return typing.cast(LocalStateValue, {})

        converted = {}
        for key, value in result.items():
            key_info = self.app_client.app_spec.state.keys.local_state.get(key)
            struct_class = self._struct_classes.get(key_info.value_type) if key_info else None
            converted[key] = (
                _init_dataclass(struct_class, value) if struct_class and isinstance(value, dict)
                else value
            )
        return typing.cast(LocalStateValue, converted)

    @property
    def chametz_sold(self) -> bytes:
        """Get the current value of the chametz_sold key in local_state state"""
        value = self.app_client.state.local_state(self.address).get_value("chametz_sold")
        if isinstance(value, dict) and "AVMBytes" in self._struct_classes:
            return _init_dataclass(self._struct_classes["AVMBytes"], value)  # type: ignore
        return typing.cast(bytes, value)

class DeChametzClient:
    """Client for interacting with DeChametz smart contract"""

    @typing.overload
    def __init__(self, app_client: algokit_utils.AppClient) -> None: ...
    
    @typing.overload
    def __init__(
        self,
        *,
        algorand: _AlgoKitAlgorandClient,
        app_id: int,
        app_name: str | None = None,
        default_sender: str | None = None,
        default_signer: TransactionSigner | None = None,
        approval_source_map: SourceMap | None = None,
        clear_source_map: SourceMap | None = None,
    ) -> None: ...

    def __init__(
        self,
        app_client: algokit_utils.AppClient | None = None,
        *,
        algorand: _AlgoKitAlgorandClient | None = None,
        app_id: int | None = None,
        app_name: str | None = None,
        default_sender: str | None = None,
        default_signer: TransactionSigner | None = None,
        approval_source_map: SourceMap | None = None,
        clear_source_map: SourceMap | None = None,
    ) -> None:
        if app_client:
            self.app_client = app_client
        elif algorand and app_id:
            self.app_client = algokit_utils.AppClient(
                algokit_utils.AppClientParams(
                    algorand=algorand,
                    app_spec=APP_SPEC,
                    app_id=app_id,
                    app_name=app_name,
                    default_sender=default_sender,
                    default_signer=default_signer,
                    approval_source_map=approval_source_map,
                    clear_source_map=clear_source_map,
                )
            )
        else:
            raise ValueError("Either app_client or algorand and app_id must be provided")
    
        self.params = DeChametzParams(self.app_client)
        self.create_transaction = DeChametzCreateTransactionParams(self.app_client)
        self.send = DeChametzSend(self.app_client)
        self.state = DeChametzState(self.app_client)

    @staticmethod
    def from_creator_and_name(
        creator_address: str,
        app_name: str,
        algorand: _AlgoKitAlgorandClient,
        default_sender: str | None = None,
        default_signer: TransactionSigner | None = None,
        approval_source_map: SourceMap | None = None,
        clear_source_map: SourceMap | None = None,
        ignore_cache: bool | None = None,
        app_lookup_cache: algokit_utils.ApplicationLookup | None = None,
    ) -> "DeChametzClient":
        return DeChametzClient(
            algokit_utils.AppClient.from_creator_and_name(
                creator_address=creator_address,
                app_name=app_name,
                app_spec=APP_SPEC,
                algorand=algorand,
                default_sender=default_sender,
                default_signer=default_signer,
                approval_source_map=approval_source_map,
                clear_source_map=clear_source_map,
                ignore_cache=ignore_cache,
                app_lookup_cache=app_lookup_cache,
            )
        )
    
    @staticmethod
    def from_network(
        algorand: _AlgoKitAlgorandClient,
        app_name: str | None = None,
        default_sender: str | None = None,
        default_signer: TransactionSigner | None = None,
        approval_source_map: SourceMap | None = None,
        clear_source_map: SourceMap | None = None,
    ) -> "DeChametzClient":
        return DeChametzClient(
            algokit_utils.AppClient.from_network(
                app_spec=APP_SPEC,
                algorand=algorand,
                app_name=app_name,
                default_sender=default_sender,
                default_signer=default_signer,
                approval_source_map=approval_source_map,
                clear_source_map=clear_source_map,
            )
        )

    @property
    def app_id(self) -> int:
        return self.app_client.app_id
    
    @property
    def app_address(self) -> str:
        return self.app_client.app_address
    
    @property
    def app_name(self) -> str:
        return self.app_client.app_name
    
    @property
    def app_spec(self) -> algokit_utils.Arc56Contract:
        return self.app_client.app_spec
    
    @property
    def algorand(self) -> _AlgoKitAlgorandClient:
        return self.app_client.algorand

    def clone(
        self,
        app_name: str | None = None,
        default_sender: str | None = None,
        default_signer: TransactionSigner | None = None,
        approval_source_map: SourceMap | None = None,
        clear_source_map: SourceMap | None = None,
    ) -> "DeChametzClient":
        return DeChametzClient(
            self.app_client.clone(
                app_name=app_name,
                default_sender=default_sender,
                default_signer=default_signer,
                approval_source_map=approval_source_map,
                clear_source_map=clear_source_map,
            )
        )

    def new_group(self) -> "DeChametzComposer":
        return DeChametzComposer(self)

    @typing.overload
    def decode_return_value(
        self,
        method: typing.Literal["Bootstrap contract()uint64"],
        return_value: algokit_utils.ABIReturn | None
    ) -> int | None: ...
    @typing.overload
    def decode_return_value(
        self,
        method: typing.Literal["Sell chametz(string)string"],
        return_value: algokit_utils.ABIReturn | None
    ) -> str | None: ...
    @typing.overload
    def decode_return_value(
        self,
        method: typing.Literal["Repurchase chametz()string"],
        return_value: algokit_utils.ABIReturn | None
    ) -> str | None: ...
    @typing.overload
    def decode_return_value(
        self,
        method: str,
        return_value: algokit_utils.ABIReturn | None
    ) -> algokit_utils.ABIValue | algokit_utils.ABIStruct | None: ...

    def decode_return_value(
        self,
        method: str,
        return_value: algokit_utils.ABIReturn | None
    ) -> algokit_utils.ABIValue | algokit_utils.ABIStruct | None | int | str:
        """Decode ABI return value for the given method."""
        if return_value is None:
            return None
    
        arc56_method = self.app_spec.get_arc56_method(method)
        decoded = return_value.get_arc56_value(arc56_method, self.app_spec.structs)
    
        # If method returns a struct, convert the dict to appropriate dataclass
        if (arc56_method and
            arc56_method.returns and
            arc56_method.returns.struct and
            isinstance(decoded, dict)):
            struct_class = globals().get(arc56_method.returns.struct)
            if struct_class:
                return struct_class(**typing.cast(dict, decoded))
        return decoded


@dataclasses.dataclass(frozen=True)
class DeChametzBareCallCreateParams(algokit_utils.AppClientBareCallCreateParams):
    """Parameters for creating DeChametz contract with bare calls"""
    on_complete: typing.Literal[OnComplete.NoOpOC] | None = None

    def to_algokit_utils_params(self) -> algokit_utils.AppClientBareCallCreateParams:
        return algokit_utils.AppClientBareCallCreateParams(**self.__dict__)

class DeChametzFactory(algokit_utils.TypedAppFactoryProtocol[DeChametzBareCallCreateParams, None, None]):
    """Factory for deploying and managing DeChametzClient smart contracts"""

    def __init__(
        self,
        algorand: _AlgoKitAlgorandClient,
        *,
        app_name: str | None = None,
        default_sender: str | None = None,
        default_signer: TransactionSigner | None = None,
        version: str | None = None,
        compilation_params: algokit_utils.AppClientCompilationParams | None = None,
    ):
        self.app_factory = algokit_utils.AppFactory(
            params=algokit_utils.AppFactoryParams(
                algorand=algorand,
                app_spec=APP_SPEC,
                app_name=app_name,
                default_sender=default_sender,
                default_signer=default_signer,
                version=version,
                compilation_params=compilation_params,
            )
        )
        self.params = DeChametzFactoryParams(self.app_factory)
        self.create_transaction = DeChametzFactoryCreateTransaction(self.app_factory)
        self.send = DeChametzFactorySend(self.app_factory)

    @property
    def app_name(self) -> str:
        return self.app_factory.app_name
    
    @property
    def app_spec(self) -> algokit_utils.Arc56Contract:
        return self.app_factory.app_spec
    
    @property
    def algorand(self) -> _AlgoKitAlgorandClient:
        return self.app_factory.algorand

    def deploy(
        self,
        *,
        on_update: algokit_utils.OnUpdate | None = None,
        on_schema_break: algokit_utils.OnSchemaBreak | None = None,
        create_params: DeChametzBareCallCreateParams | None = None,
        update_params: None = None,
        delete_params: None = None,
        existing_deployments: algokit_utils.ApplicationLookup | None = None,
        ignore_cache: bool = False,
        app_name: str | None = None,
        compilation_params: algokit_utils.AppClientCompilationParams | None = None,
        send_params: algokit_utils.SendParams | None = None,
    ) -> tuple[DeChametzClient, algokit_utils.AppFactoryDeployResult]:
        """Deploy the application"""
        deploy_response = self.app_factory.deploy(
            on_update=on_update,
            on_schema_break=on_schema_break,
            create_params=create_params.to_algokit_utils_params() if create_params else None,
            update_params=update_params,
            delete_params=delete_params,
            existing_deployments=existing_deployments,
            ignore_cache=ignore_cache,
            app_name=app_name,
            compilation_params=compilation_params,
            send_params=send_params,
        )

        return DeChametzClient(deploy_response[0]), deploy_response[1]

    def get_app_client_by_creator_and_name(
        self,
        creator_address: str,
        app_name: str,
        default_sender: str | None = None,
        default_signer: TransactionSigner | None = None,
        ignore_cache: bool | None = None,
        app_lookup_cache: algokit_utils.ApplicationLookup | None = None,
        approval_source_map: SourceMap | None = None,
        clear_source_map: SourceMap | None = None,
    ) -> DeChametzClient:
        """Get an app client by creator address and name"""
        return DeChametzClient(
            self.app_factory.get_app_client_by_creator_and_name(
                creator_address,
                app_name,
                default_sender,
                default_signer,
                ignore_cache,
                app_lookup_cache,
                approval_source_map,
                clear_source_map,
            )
        )

    def get_app_client_by_id(
        self,
        app_id: int,
        app_name: str | None = None,
        default_sender: str | None = None,
        default_signer: TransactionSigner | None = None,
        approval_source_map: SourceMap | None = None,
        clear_source_map: SourceMap | None = None,
    ) -> DeChametzClient:
        """Get an app client by app ID"""
        return DeChametzClient(
            self.app_factory.get_app_client_by_id(
                app_id,
                app_name,
                default_sender,
                default_signer,
                approval_source_map,
                clear_source_map,
            )
        )


class DeChametzFactoryParams:
    """Parameters for creating transactions for DeChametz contract"""

    def __init__(self, app_factory: algokit_utils.AppFactory):
        self.app_factory = app_factory
        self.create = DeChametzFactoryCreateParams(app_factory)
        self.update = DeChametzFactoryUpdateParams(app_factory)
        self.delete = DeChametzFactoryDeleteParams(app_factory)

class DeChametzFactoryCreateParams:
    """Parameters for 'create' operations of DeChametz contract"""

    def __init__(self, app_factory: algokit_utils.AppFactory):
        self.app_factory = app_factory

    def bare(
        self,
        *,
        params: algokit_utils.CommonAppCallCreateParams | None = None,
        compilation_params: algokit_utils.AppClientCompilationParams | None = None
    ) -> algokit_utils.AppCreateParams:
        """Creates an instance using a bare call"""
        params = params or algokit_utils.CommonAppCallCreateParams()
        return self.app_factory.params.bare.create(
            algokit_utils.AppFactoryCreateParams(**dataclasses.asdict(params)),
            compilation_params=compilation_params)

    def bootstrap_contract(
        self,
        *,
        params: algokit_utils.CommonAppCallCreateParams | None = None,
        compilation_params: algokit_utils.AppClientCompilationParams | None = None
    ) -> algokit_utils.AppCreateMethodCallParams:
        """Creates a new instance using the Bootstrap contract()uint64 ABI method"""
        params = params or algokit_utils.CommonAppCallCreateParams()
        return self.app_factory.params.create(
            algokit_utils.AppFactoryCreateMethodCallParams(
                **{
                **dataclasses.asdict(params),
                "method": "Bootstrap contract()uint64",
                "args": None,
                }
            ),
            compilation_params=compilation_params
        )

    def sell_chametz(
        self,
        args: tuple[str] | SellChametzArgs,
        *,
        params: algokit_utils.CommonAppCallCreateParams | None = None,
        compilation_params: algokit_utils.AppClientCompilationParams | None = None
    ) -> algokit_utils.AppCreateMethodCallParams:
        """Creates a new instance using the Sell chametz(string)string ABI method"""
        params = params or algokit_utils.CommonAppCallCreateParams()
        return self.app_factory.params.create(
            algokit_utils.AppFactoryCreateMethodCallParams(
                **{
                **dataclasses.asdict(params),
                "method": "Sell chametz(string)string",
                "args": _parse_abi_args(args),
                }
            ),
            compilation_params=compilation_params
        )

    def repurchase_chametz(
        self,
        *,
        params: algokit_utils.CommonAppCallCreateParams | None = None,
        compilation_params: algokit_utils.AppClientCompilationParams | None = None
    ) -> algokit_utils.AppCreateMethodCallParams:
        """Creates a new instance using the Repurchase chametz()string ABI method"""
        params = params or algokit_utils.CommonAppCallCreateParams()
        return self.app_factory.params.create(
            algokit_utils.AppFactoryCreateMethodCallParams(
                **{
                **dataclasses.asdict(params),
                "method": "Repurchase chametz()string",
                "args": None,
                }
            ),
            compilation_params=compilation_params
        )

class DeChametzFactoryUpdateParams:
    """Parameters for 'update' operations of DeChametz contract"""

    def __init__(self, app_factory: algokit_utils.AppFactory):
        self.app_factory = app_factory

    def bare(
        self,
        *,
        params: algokit_utils.CommonAppCallCreateParams | None = None,
        
    ) -> algokit_utils.AppUpdateParams:
        """Updates an instance using a bare call"""
        params = params or algokit_utils.CommonAppCallCreateParams()
        return self.app_factory.params.bare.deploy_update(
            algokit_utils.AppClientBareCallParams(**dataclasses.asdict(params)),
            )

class DeChametzFactoryDeleteParams:
    """Parameters for 'delete' operations of DeChametz contract"""

    def __init__(self, app_factory: algokit_utils.AppFactory):
        self.app_factory = app_factory

    def bare(
        self,
        *,
        params: algokit_utils.CommonAppCallCreateParams | None = None,
        
    ) -> algokit_utils.AppDeleteParams:
        """Deletes an instance using a bare call"""
        params = params or algokit_utils.CommonAppCallCreateParams()
        return self.app_factory.params.bare.deploy_delete(
            algokit_utils.AppClientBareCallParams(**dataclasses.asdict(params)),
            )


class DeChametzFactoryCreateTransaction:
    """Create transactions for DeChametz contract"""

    def __init__(self, app_factory: algokit_utils.AppFactory):
        self.app_factory = app_factory
        self.create = DeChametzFactoryCreateTransactionCreate(app_factory)


class DeChametzFactoryCreateTransactionCreate:
    """Create new instances of DeChametz contract"""

    def __init__(self, app_factory: algokit_utils.AppFactory):
        self.app_factory = app_factory

    def bare(
        self,
        params: algokit_utils.CommonAppCallCreateParams | None = None,
    ) -> Transaction:
        """Creates a new instance using a bare call"""
        params = params or algokit_utils.CommonAppCallCreateParams()
        return self.app_factory.create_transaction.bare.create(
            algokit_utils.AppFactoryCreateParams(**dataclasses.asdict(params)),
        )


class DeChametzFactorySend:
    """Send calls to DeChametz contract"""

    def __init__(self, app_factory: algokit_utils.AppFactory):
        self.app_factory = app_factory
        self.create = DeChametzFactorySendCreate(app_factory)


class DeChametzFactorySendCreate:
    """Send create calls to DeChametz contract"""

    def __init__(self, app_factory: algokit_utils.AppFactory):
        self.app_factory = app_factory

    def bare(
        self,
        *,
        params: algokit_utils.CommonAppCallCreateParams | None = None,
        send_params: algokit_utils.SendParams | None = None,
        compilation_params: algokit_utils.AppClientCompilationParams | None = None,
    ) -> tuple[DeChametzClient, algokit_utils.SendAppCreateTransactionResult]:
        """Creates a new instance using a bare call"""
        params = params or algokit_utils.CommonAppCallCreateParams()
        result = self.app_factory.send.bare.create(
            algokit_utils.AppFactoryCreateParams(**dataclasses.asdict(params)),
            send_params=send_params,
            compilation_params=compilation_params
        )
        return DeChametzClient(result[0]), result[1]


class _DeChametzOpt_inComposer:
    def __init__(self, composer: "DeChametzComposer"):
        self.composer = composer
    def sell_chametz(
        self,
        args: tuple[str] | SellChametzArgs,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> "DeChametzComposer":
        self.composer._composer.add_app_call_method_call(
            self.composer.client.params.opt_in.sell_chametz(
                args=args,
                params=params,
                
            )
        )
        self.composer._result_mappers.append(
            lambda v: self.composer.client.decode_return_value(
                "Sell chametz(string)string", v
            )
        )
        return self.composer


class DeChametzComposer:
    """Composer for creating transaction groups for DeChametz contract calls"""

    def __init__(self, client: "DeChametzClient"):
        self.client = client
        self._composer = client.algorand.new_group()
        self._result_mappers: list[typing.Callable[[algokit_utils.ABIReturn | None], object] | None] = []

    @property
    def opt_in(self) -> "_DeChametzOpt_inComposer":
        return _DeChametzOpt_inComposer(self)

    def bootstrap_contract(
        self,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> "DeChametzComposer":
        self._composer.add_app_call_method_call(
            self.client.params.bootstrap_contract(
                
                params=params,
            )
        )
        self._result_mappers.append(
            lambda v: self.client.decode_return_value(
                "Bootstrap contract()uint64", v
            )
        )
        return self

    def clear_state(
        self,
        *,
        args: list[bytes] | None = None,
        params: algokit_utils.CommonAppCallParams | None = None,
    ) -> "DeChametzComposer":
        params=params or algokit_utils.CommonAppCallParams()
        self._composer.add_app_call(
            self.client.params.clear_state(
                algokit_utils.AppClientBareCallParams(
                    **{
                        **dataclasses.asdict(params),
                        "args": args
                    }
                )
            )
        )
        return self
    
    def add_transaction(
        self, txn: Transaction, signer: TransactionSigner | None = None
    ) -> "DeChametzComposer":
        self._composer.add_transaction(txn, signer)
        return self
    
    def composer(self) -> algokit_utils.TransactionComposer:
        return self._composer
    
    def simulate(
        self,
        allow_more_logs: bool | None = None,
        allow_empty_signatures: bool | None = None,
        allow_unnamed_resources: bool | None = None,
        extra_opcode_budget: int | None = None,
        exec_trace_config: SimulateTraceConfig | None = None,
        simulation_round: int | None = None,
        skip_signatures: bool | None = None,
    ) -> algokit_utils.SendAtomicTransactionComposerResults:
        return self._composer.simulate(
            allow_more_logs=allow_more_logs,
            allow_empty_signatures=allow_empty_signatures,
            allow_unnamed_resources=allow_unnamed_resources,
            extra_opcode_budget=extra_opcode_budget,
            exec_trace_config=exec_trace_config,
            simulation_round=simulation_round,
            skip_signatures=skip_signatures,
        )
    
    def send(
        self,
        send_params: algokit_utils.SendParams | None = None
    ) -> algokit_utils.SendAtomicTransactionComposerResults:
        return self._composer.send(send_params)
